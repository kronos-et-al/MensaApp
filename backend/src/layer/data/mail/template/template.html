<!DOCTYPE html>
<html>

<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Mensa KA Image Report</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>

    <!-- <link rel="stylesheet" href="./output.css"> -->
    {{ "<style>
        " ~ css ~ "
    </style>" }}
</head>

<body class="bg-dark-grey text-white">

    <div class="grid grid-cols-1 gap-8 p-10 text-xl max-w-2xl mx-auto">

        <div class="flex flex-none items-center">
            <svg class="size-10 bg-green rounded-full mr-4 flex-none" xmlns="http://www.w3.org/2000/svg"
                viewBox="35 30 197 197" id="vector">
                <g id="group" transform="translate(16.02 16.02) scale(0.88 0.88)">
                    <path id="path"
                        d="M 100 125 L 120.62 125 L 124.77 191.45 C 124.78 191.59 124.78 191.73 124.78 191.88 C 124.78 196.37 121.14 200 116.66 200 L 103.95 200 C 99.46 200 95.83 196.37 95.83 191.88 C 95.83 191.74 95.83 191.6 95.84 191.45 L 99.99 125 Z"
                        fill="#333333" />
                    <path id="path_1"
                        d="M 175 137.5 L 154.17 137.5 L 154.17 192.18 C 154.17 196.5 157.67 200 161.99 200 L 175.53 200 C 179.84 200 183.34 196.5 183.34 192.18 C 183.34 191.84 183.32 191.49 183.27 191.15 L 175 137.5 Z"
                        fill="#333333" />
                    <path id="path_2"
                        d="M 158.33 62.5 C 156.03 62.5 154.16 64.37 154.16 66.67 L 154.16 137.5 L 174.99 137.5 C 174.99 137.5 183.32 124.42 183.32 100 C 183.32 79.29 172.65 62.5 158.32 62.5 Z M 131.25 62.5 C 127.81 62.5 125 65.31 125 68.75 L 125 104.17 C 125 106.47 123.13 108.34 120.83 108.34 C 118.53 108.34 116.66 106.47 116.66 104.17 L 116.66 68.75 C 116.66 65.31 113.85 62.5 110.41 62.5 C 106.97 62.5 104.16 65.31 104.16 68.75 L 104.16 104.17 C 104.16 106.47 102.29 108.34 99.99 108.34 C 97.69 108.34 95.82 106.47 95.82 104.17 L 95.82 68.75 C 95.82 65.31 93.01 62.5 89.57 62.5 C 86.13 62.5 83.32 65.31 83.32 68.75 L 83.32 108.33 C 83.32 117.53 90.78 125 99.99 125 L 120.82 125 C 130.02 125 137.49 117.54 137.49 108.33 L 137.49 68.75 C 137.49 65.31 134.68 62.5 131.24 62.5 Z"
                        fill="#ffffff" />
                </g>
            </svg>

            <h1 class="text-3xl font-bold h-auto">
                Mensa KA Image Report
            </h1>

        </div>

        <div class="aspect-video w-full relative z-0 flex items-center">
            <img class="size-full rounded-3xl object-cover" src="{{ image_url }}" />
            <div
                class="absolute inset-y-0 left-0 z-10 rounded-3xl backdrop-blur-xl active:invisible size-full text-5xl h-full flex flex-col items-center justify-center">
                <svg class="fill-white size-10" xmlns="http://www.w3.org/2000/svg"
                    viewBox="0 0 576 512"><!--!Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.-->
                    <path
                        d="M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64c-7.1 0-13.9-1.2-20.3-3.3c-5.5-1.8-11.9 1.6-11.7 7.4c.3 6.9 1.3 13.8 3.2 20.7c13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3z" />
                </svg>

            </div>
            <div class="text-sm p-1 drop-shadow absolute z-20 inset-x-0 bottom-0 text-center pb-2">Image ID: <span
                    class="select-all cursor-text">{{ image_id }}</span></div>
        </div>


        <div class="grid gap-4">
            <div class="bg-light-grey rounded-xl p-4 m-0">
                <table class="table-fixed w-full border-separate border-spacing-y-1">
                    <tbody>
                        <tr>
                            <td class="w-1/2">Meal</td>
                            <td class="leading-none">{{ meal_name}}<br><span class="text-[0.6em] select-all"> {{ meal_id
                                    }}</span>
                            </td>
                        </tr>
                        <tr>
                            <td>Reason</td>
                            <td>{{ reason }}</td>
                        </tr>
                        <tr>
                            <td>Hidden</td>
                            <td>
                                <!-- Image got hidden? {{ image_got_hidden }} -->
                                {% if image_got_hidden %}
                                <svg class="fill-green size-5 inline" xmlns="http://www.w3.org/2000/svg"
                                    viewBox="0 0 448 512"><!--!Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.-->
                                    <path
                                        d="M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z" />
                                </svg>
                                {% else %}
                                <svg class="fill-red size-5 inline" xmlns="http://www.w3.org/2000/svg"
                                    viewBox="0 0 384 512"><!--!Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.-->
                                    <path
                                        d="M376.6 84.5c11.3-13.6 9.5-33.8-4.1-45.1s-33.8-9.5-45.1 4.1L192 206 56.6 43.5C45.3 29.9 25.1 28.1 11.5 39.4S-3.9 70.9 7.4 84.5L150.3 256 7.4 427.5c-11.3 13.6-9.5 33.8 4.1 45.1s33.8 9.5 45.1-4.1L192 306 327.4 468.5c11.3 13.6 31.5 15.4 45.1 4.1s15.4-31.5 4.1-45.1L233.7 256 376.6 84.5z" />
                                </svg>
                                {% endif %}
                                ({{ report_count }} / {{ report_barrier }})
                            </td>
                        </tr>

                    </tbody>
                </table>
            </div>

            <div class="grid grid-cols-2">
                <a class="bg-red m-auto p-2 px-8 rounded-xl text-black drop-shadow-md"
                    href="{{ delete_url }}">Delete</a>
                <a class="bg-green m-auto p-2 px-8 rounded-xl text-black drop-shadow-md"
                    href="{{ verify_url }}">Verify</a>
            </div>
        </div>

        <div>
            <h2 class="text-2xl mb-2">More Information</h2>
            <div class="table w-full bg-light-grey rounded-xl p-4 m-0 border-separate border-spacing-y-1">
                <div class="table-row-group">
                    <div class=table-row>
                        <div class="table-cell w-1/2">Report Date</div>
                        <div class="table-cell select-all">{{ report_date }}</div>
                    </div>
                    <div class=table-row>
                        <div class="table-cell w-1/2">Reported By</div>
                        <div class="table-cell select-all">{{ client_id }}</div>
                    </div>
                    <div class=table-row>
                        <div class="table-cell">Number of Reports</div>
                        <div class="table-cell">{{ report_count }}</div>
                    </div>
                    <div class=table-row>
                        <div class="table-cell">Image Age</div>
                        <div class="table-cell">{{ image_age }} days</div>
                    </div>
                    <div class=table-row>
                        <div class="table-cell">Rating</div>
                        <div class="table-cell"> +{{ positive_rating_count }} / &minus;{{ negative_rating_count }}</div>
                    </div>
                    <div class=table-row>
                        <div class="table-cell">Rank</div>
                        <div class="table-cell"> {{ image_rank|round(3) }}</div>
                    </div>
                </div>
            </div>
        </div>

        {% if other_image_urls %}
        <div>
            <h2 class="text-2xl">Other Images</h2>
            <div class="overflow-x-auto snap-x snap-mandatory">
                <div class="flex flex-none w-fit">
                    {% for image_url in other_image_urls %}
                    <img class="h-40 object-cover rounded-xl m-2 snap-center snap-always" src="{{ image_url }}" />
                    {% endfor %}
                </div>
            </div>

        </div>
        {% endif %}
    </div>



</body>

</html>